## 5.02 过渡: 列表/状态

<https://v3.cn.vuejs.org/guide/transitions-list.html#%E5%8F%AF%E5%A4%8D%E7%94%A8%E7%9A%84%E8%BF%87%E6%B8%A1>
<https://v3.cn.vuejs.org/guide/transitions-state.html#%E7%8A%B6%E6%80%81%E5%8A%A8%E7%94%BB%E4%B8%8E%E4%BE%A6%E5%90%AC%E5%99%A8>

#### 1.1 列表过渡

之前我们讲了单个节点过渡、同一时间渲染多个节点中的一个过渡，那怎么同时渲染整个列表呢？

vue 中的列表过渡使用的是 <transition-group> 标签嵌套

原理：transition-group 就是给列表中每个元素循环套上了 tarnsition 标签。  
注意：for 循环 key 尽量不要用 index 值，会降低性能，项目功能上也会造成一定影响。

举例：  
列表的进入、离开过渡  
列表的排序过渡  
列表的交错过渡

这个看起来很神奇，其内部 Vue 使用了一个叫 FLIP 简单的动画队列使用 transforms 将元素从之前的位置平滑过渡新的位置。

#### 1.2 列表可复用过渡

过渡可以通过 Vue 的组件系统实现复用。要创建一个可复用过渡组件，你需要做的就是将 <transition> 或者 <transition-group> 作为根组件，然后将任何子组件放置在其中就可以了。

#### 1.3 列表动态过渡

创建动态过渡的最终方案是组件通过接受 props 来动态修改之前的过渡。一句老话，唯一的限制是你的想象力。

#### 2.1 状态过渡

vue 提供了很多简单的进入离开等动效，那么对于数据元素本身呢？比如：

```
数字和运算
颜色的显示
SVG 节点的位置
元素的大小和其他的 property
```

这些数据要么以数值形式存储，要么可以转换为数值。  
有了数值，结合响应系统，使用第三方库就可实现过渡状态了

#### 2.2 状态动画与侦听器

通过侦听器我们能监听到任何数值 property 的数值更新。

#### 2.3 动态状态过渡

就像 Vue 的过渡组件一样，数据背后状态过渡会实时更新，这对于原型设计十分有用。当你修改一些变量，即使是一个简单的 SVG 多边形也可实现很多难以想象的效果。

#### 2.4. 把过渡放到组件

管理太多的状态过渡会很快的增加组件实例复杂性，幸好很多的动画可以提取到专用的子组件。

#### 2.5 赋予设计生命

只要一个动画，就可以带来生命。不幸的是，当设计师创建图标、logo 和吉祥物的时候，他们交付的通常都是图片或静态的 SVG。所以，虽然 GitHub 的章鱼猫、Twitter 的小鸟以及其它许多 logo 类似于生灵，它们看上去实际上并不是活着的。

Vue 可以帮到你。因为 SVG 的本质是数据，我们只需要这些动物兴奋、思考或警戒的样例。然后 Vue 就可以辅助完成这几种状态之间的过渡动画，来制作你的欢迎页面、加载指示、以及更加带有情感的提示。

参考<https://v3.cn.vuejs.org/guide/transitions-state.html#%E8%B5%8B%E4%BA%88%E8%AE%BE%E8%AE%A1%E4%BB%A5%E7%94%9F%E5%91%BD>
