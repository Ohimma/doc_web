## 2.05 Node 函数/模块

##### 1. 函数

js 中，一个函数可以作为另一个函数的参数，nodejs中也类似。       

```
function say(word) {
    console.log("hello world")
}

function execute(somefunc, value) {
    somefunc(value)
}

execute(say, "Hello");

等同于下面的（匿名函数）

function execute(
    function(word) {
        console.log("hello world")
    }
, "Hello")

```


###### 2. 模块引用
模块是nodejs的基本组成部分，而一个js文件就是一个模块。    

```
// 模块文件 hello.js
exports.world = function() {
    console.log("Hello world")
}


// 主文件 main.js
var hello = require("./hello")
hello.world()

解释：
nodejs 提供了exports/require 两个对象，exports 是模块公开的接口，require 用于获取外部模块的接口。
hello.js 通过 exports 对象把 world 作为模块的访问接口
main.js  通过 require 就可以访问 exports 对象的成员函数 world 了

----------------------

// 模块文件 hello.js
function Hello() { 
    var name; 
    this.setName = function(thyName) { 
        name = thyName; 
    }; 
    this.sayHello = function() { 
        console.log('Hello ' + name); 
    }; 
}; 
module.exports = Hello;


// 主文件 main.js
var Hello = require('./hello'); 
hello = new Hello(); 
hello.setName('BYVoid'); 
hello.sayHello(); 

解释： 
此时我们用 module.exports = Hello 代替了 exports.world = function(){}
hello.js 通过 module.exports 对象把 Hello 作为模块的访问对象
main.js  通过 require 就可以访问 module.exports 对象的对象本身 Hello 了


注意：
不建议同时使用 exports 和 module.exports。

如果先使用 exports 对外暴露属性或方法，再使用 module.exports 暴露对象，会使得 exports 上暴露的属性或者方法失效。
```


##### 3. 模块优先级
```
Node.js 存在4类模块：    
文件模块缓存 > 原生模块缓存区 > 原生模块 > 文件模块

```