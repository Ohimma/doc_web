## 2.13 js 使用误区


##### 1. 严格模式 use strict

"use strict" 指令只允许出现在脚本或函数的开头      
它在Javascript1.8.5(ECMAScript5) 中新增，他不是一条语句，是一个字面量表达式，在旧版 js 会被忽略     
     

为什么要用严格模式？      
1\. 消除代码运行的一些不安全、不严谨之处，减少一些怪异行为，保证代码运行       
2\. 提高编译效率，增加运行速度     
3\. 为未来新版本js做好铺垫     

```
1. 不允许使用未声明的变量  (对象也是变量)
2. 不允许删除变量或对象
3. 不允许变量重名
4. 不允许使用八进制
5. 不允许使用转义字符
6. 不允许对只读属性赋值
7. 不允许对一个使用getter方法读取的属性进行赋值
8. 不允许删除一个不允许删除的属性
9. 变量名不能用"eval" "arguments" 字符串
10. 禁止this关键字指向全局对象

```

##### 2. 变量提升
1\. js 中，函数及变量的声明都将提升至函数最顶部。
2\. js 中，变量也可以先使用后声明
3\. js 中，初始化的变量不会被提升

```
var x = 5; // 初始化 x

elem = document.getElementById("demo"); 
elem.innerHTML = x + " " + y;          

var y = 7; // 初始化 y

>>>
x 为：5，y 为：undefined
```

##### 3. 
```
1. 判断、比较 语句中使用 == ，不要使用 =

2. 浮点类型都以64位存储，精度很难确定
var x = 0.1;
var y = 0.2;
var z = x + y            // z 的结果为 0.30000000000000004
if (z == 0.3)            // 返回 false
var z = (x * 10 + y * 10) / 10;       // z 的结果为 0.3 (用乘法解决)

3. 定义数组或对象，最后不要添加逗号，否则不同浏览器计算长度不一样

4. 


```